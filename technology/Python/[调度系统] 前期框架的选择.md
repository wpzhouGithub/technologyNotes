# 调度系统框架的选择

## 一、目前主流的框架

- EasyScheduler 怀疑是Dolphin scheduler 的前身

- Airflow： pip install apache-airflow，学习成本比较高，功能很强大 调度系统该有的都有，社区非常活跃，python

- Azkaban: java

- Elastic-Job

- 数栖云

- Dolphin scheduler java,

  

- Apache Oozie：stars只有600，1个月之前有更新 ，调度Hadoop作业的



## 需要解决的痛点

1. 单个作业需要在多台指定的远程机器上运行（不能是随机的，同一个作业始终都是指定IP的机器运行），能否并行、运行结束之后触发父作业继续

2. 入口作业定时执行，运行完成之后运行依赖的作业

   

## 二、调度系统需要关注的点

- **启动速度/轻松度**：从一无所知开始，您可以多快地安排工作，您将有多少头痛？
- **错误处理**：如果您安排的作业失败，系统如何对其进行管理？它会通知您，重试等吗？
- **并行化**：您可以在此系统中并行运行许多作业吗？您是否可以创建任务依赖项，以便以正确的顺序运行作业？
- **回填**：如果作业失败，系统是否可以返回并填充错过的运行？您能否要求系统运行过去日期的作业？
- **记录/透明度**：系统是否保留详细，易于阅读的日志？它是否包括图形或作业运行时间的监视？
- **易于使用**：每天使用此系统时，完成工作有多容易？在团队中使用新成员有多容易？

## 三、调度系统的两大分类

### **定时分片类作业调度系统**

定时分片类作业调度系统主要时为了使得crontab可以运行在分布式系统环境下也就是定时任务的分布式管理和数据分片运行。

关注的点：

- 数据分片：将一个大任务通过某种自定义规则拆分成一个个小任务分布在在各个服务器上运行，因此需要考虑任务的负载均衡、可重试等。
- 准时触发和高可用：既然是定时任务，那就需要准确、准时的触发相关任务和保证服务的高可用。

### **典型例子**

Elastic-Job、Easy Scheduler、

### **DAG工作流类调度系统**

DAG工作流类调度系统，主要是解决crontab任务直接的依赖关系，也就是任务之间的依赖关系。那么作为DAG类工作流调度系统自然要有丰富灵活的任务触发机制，例如时间、外部任务完成度等。

### **典型例子**

Apache Airflow、Oozie、Azkaban

**所以，我们将选取Easy Scheduler、Apache Airflow学习**