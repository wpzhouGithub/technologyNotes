# [python语法] 高性能技巧

## 1. 拼接字符串

字符串链接尽量不要用“+”，使用format语法或者join；

在 Python 中，字符串变量在内存中是不可变的。如果使用 "+" 拼接字符串，内存会先创建一个新字符串，然后将两个旧字符串拼接，再将新字符串的内存地址映射给新的变量名。如果是2个以上的字符串连接，会重复以上过程，效率不高

- format的使用

  python3中最便捷的语法是`f"{变量名}"`，或者是`"{0}".format(变量)`

  ```python
  name = 'lily'
  age = 18
  msg = f'name: {name}, age: {age}'
  msg1 = 'name: {name}, age: {age}'.format(name=name, age=age)
  print(msg)
  'name: lily, age: 18'
  print(msg1)
  'name: lily, age: 18'
  
  ```

- join 的使用

  ```python
  l = ['a', 'b', 'c']
  msg = ','.join(l)
  print(msg)
  a,b,c
  ```

- 使用format或者join时，内存只会新生成一个字符串，跟要连接的字符串个数无关

## 2. 生成器的使用

生成器的典型特性是只存计算逻辑，而不是将所有的值都保存； 在迭代值时，直接用计算逻辑推算出结果；这样可以避免数据量大时，占用大量内存



## 3. 巧用多重赋值

**整体的思想跟字符串的拼接一样，就是减少在内存中创建变量值**

交换将两个变量的值，我们会立马想到应用一个第三方变量的方法。

```text
# 将 a 和 b 两个值互换
temp = a
a = b
b = temp
```

Python 素有优雅的名声，所以有一个更加优雅又快速的方法，那就是多重赋值。这样可以减少在内存中创建一个a的值对应的字符串

```text
# 将 a 和 b 两个值互换
a, b = b, a
```

## 